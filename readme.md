# 基于 C 语言与本地 LLM 的智能终端助手 - 答辩报告

## 1. 项目简介
本项目是一个运行在终端的智能助手，它将 **C 语言的高效系统编程能力** 与 **LLM（大语言模型）的自然语言理解能力** 深度融合。用户可以通过自然语言指令管理待办事项、备忘录和联系人，同时内置了贪吃蛇和数独等经典小游戏，兼具实用性与娱乐性。

## 2. 核心架构
项目采用模块化设计，主要包含：
* **交互层 (`src/chatbot.c`)**：作为系统的中枢，负责用户输入的接收、鉴权以及意图的分发。
* **智能层 (`src/llm.c`)**：通过 Prompt Engineering 将非结构化自然语言转化为结构化指令（Intent & Parameter）。
* **网络层 (`src/http.c`)**：纯手写的 HTTP/1.1 客户端，直接基于 Socket API 实现，零第三方依赖。
* **功能层**：
    * **游戏模块 (`src/game.c`)**：包含贪吃蛇、数独求解器。
    * **数据管理**：待办 (`todo`)、备忘 (`memo`)、联系人 (`contact`)。

## 3. 技术亮点与优势

### 3.1 纯手写底层网络协议栈
为了追求极致的轻量化和可控性，项目没有引入 `libcurl` 等外部库，而是手动实现了底层通信：
* **Socket 编程**：完整处理了 Windows (`winsock2`) 和 Linux 的跨平台兼容性。
* **HTTP 协议构造**：手动拼接 `POST` 请求头，精确计算 `Content-Length`，处理 TCP 粘包问题。
* **手写 JSON 解析器**：编写了高效的字符串搜索算法 `http_extract_json_string`，在不引入 `cJSON` 的情况下实现了对 AI 响应数据的精准提取。

### 3.2 游戏与算法的综合应用
* **贪吃蛇**：利用 Windows 控制台 API 实现了字符图形界面的实时刷新与交互。
* **数独求解器**：实现了基于**递归回溯**的算法，能够高效解决任意难度的数独谜题。

### 3.3 鲁棒的混合意图识别
针对本地小参数模型（如 Qwen-1.5B）输出格式不稳定的特点，采取了“AI + 规则”的双重保障策略：
* **Prompt 约束**：在系统提示词中严格规定输出格式，并给出包含“错误示范”的 Few-Shot 示例。
* **代码级容错**：在 C 代码中实现了模糊匹配算法，即使 AI 输出包含冗余前缀（如“参数：”），程序也能自动清洗数据，提取核心内容。

### 3.4 多样化的数据结构实践
* **动态链表**：在 `contact` 模块中使用链表管理联系人，支持动态内存分配，无数量限制。
* **文件持久化**：在 `memo` 模块中实现了文件的读写操作，保证数据持久存储。
* **内存数组**：在 `todo` 模块中使用静态数组，演示了高效的内存管理。

## 4. 总结
本项目通过 C 语言实现了从底层网络通信到上层 AI 交互的完整链路，不仅构建了一个实用的智能工具，更全面展示了对计算机系统原理、数据结构与算法的深刻理解。
